{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","deletePerson","className","onClick","Persons","persons","filter","person","toLowerCase","includes","map","filteredPerson","key","id","baseUrl","newObject","axios","post","then","response","data","get","put","delete","Notification","notificationMessage","message","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setNotificationMessage","useEffect","personService","initialPersons","testForDupicate","event","target","preventDefault","personObject","length","duplicate","window","confirm","returnedPerson","setTimeout","catch","error","console","concat","e","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d18bb2b5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newSearch, handleSearchChange }) => {\r\n\r\n    return (\r\n        <div>\r\n            filter shown with\r\n            <input\r\n                value={newSearch}\r\n                onChange={handleSearchChange}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input\r\n                    value={newName}\r\n                    onChange={handleNameChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ name, number, deletePerson}) => {\r\n  return (\r\n    <li className=\"contact-list\">\r\n      {name}: {number}\r\n      <button onClick={deletePerson}>delete</button>\r\n      </li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\nimport Person from \"./Person\"\n\nconst Persons = ({ persons, newSearch, deletePerson }) => {\n\n\n    return (\n        <ul>\n            {\n                persons\n                    .filter((person) =>\n                        (person.name.toLowerCase()).includes(newSearch.toLowerCase()))\n                    .map((filteredPerson) =>\n                        <Person\n                            key={filteredPerson.name}\n                            name={filteredPerson.name}\n                            number={filteredPerson.number}\n                            deletePerson={() => deletePerson(filteredPerson.id, filteredPerson.name)} />\n                    )\n            }\n        </ul>\n    )\n}\n\nexport default Persons\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n// create\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// read\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// update\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// delete\r\nconst remove = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\nexport default { create, getAll, update, remove }","import React from 'react'\r\n\r\n\r\nconst Notification = ({ notificationMessage }) => {\r\n    if (notificationMessage.message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={notificationMessage.type}>{/* \"error\" */}\r\n\r\n            {notificationMessage.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newSearch, setNewSearch] = useState('')\r\n    const [notificationMessage, setNotificationMessage] = useState({ type: null, message: null })\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        if (testForDupicate(persons).length) {\r\n\r\n            let duplicate = testForDupicate(persons)[0]\r\n            if (window.confirm(`'${newName}' is already added to phonebook, replace the old number with a new one?`)) {\r\n                personService\r\n                    .update(duplicate.id, personObject)\r\n                    .then(returnedPerson => {\r\n                        setPersons(persons.map(person => person.id !== duplicate.id ? person : returnedPerson))\r\n\r\n                        setNotificationMessage({\r\n                            type: \"success\",\r\n                            message: \"Updated \" + newName + \" succesfully\"\r\n                        })\r\n                        setTimeout(() => { setNotificationMessage({ type: null, message: null }) }, 5000)\r\n\r\n                    })\r\n                    .catch(error => {\r\n                        setPersons(persons.filter(person => person.id !== duplicate.id))\r\n\r\n                        setNotificationMessage({\r\n                            type: \"error\",\r\n                            message: \"Failed to update \" + newName + \" to phonebook - \\n\" + newName + \" might no longer exixt in phonebook\"\r\n                        })\r\n                        console.error(error)\r\n                        setTimeout(() => { setNotificationMessage({ type: null, message: null }) }, 5000)\r\n\r\n                    })\r\n\r\n                setNewName('')\r\n                setNewNumber('')\r\n            }\r\n        } else if (newName === \"\") {\r\n            // do nothing\r\n        } else {\r\n            personService\r\n                .create(personObject)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson))\r\n                    setNotificationMessage({\r\n                        type: \"success\",\r\n                        message: \"created \" + newName + \" succesfully\"\r\n                    })\r\n                    setTimeout(() => { setNotificationMessage({ type: null, message: null }) }, 5000)\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n                .catch((error) => {\r\n                    setNotificationMessage({\r\n                        type: \"error\",\r\n                        message: \"Failed to add \" + newName + \" to phonebook\"\r\n                    })\r\n                    console.error(error)\r\n                    setTimeout(() => { setNotificationMessage({ type: null, message: null }) }, 5000)\r\n\r\n                })\r\n        }\r\n    }\r\n\r\n    const testForDupicate = (persons) => {\r\n        let duplicates = persons.filter(person => (person.name === newName))\r\n        return (duplicates)\r\n    }\r\n\r\n    const deletePerson = (id, name) => {\r\n        try {\r\n            if (window.confirm(`Delete ${name} ?`)) {\r\n                personService.remove(id)\r\n                setPersons(persons.filter(person => person.id !== id))\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n    const handleSearchChange = (event) => {\r\n        setNewSearch(event.target.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n\r\n            <Notification notificationMessage={notificationMessage} />\r\n            <Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />\r\n\r\n            <h2>add a new</h2>\r\n            <PersonForm addPerson={addPerson}\r\n                newName={newName} handleNameChange={handleNameChange}\r\n                newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n\r\n            <h2>Numbers</h2>\r\n            <ul>\r\n                <Persons\r\n                    persons={persons}\r\n                    newSearch={newSearch}\r\n                    deletePerson={deletePerson} />\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}